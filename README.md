# Job Analytics Sandbox ‚Äì Setup & Data Generation Guide

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î **–ø–æ–≤–Ω–∏–π, –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω–∏–π –ø—Ä–æ—Ü–µ—Å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–æ—ó PostgreSQL-–±–∞–∑–∏** –¥–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è SQL —Ç–∞ Data Engineering –Ω–∞–≤–∏—á–æ–∫.

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–∞ —Ç–∞–∫, —â–æ–± –±—É–¥—å‚Äë—Ö—Ç–æ –º—ñ–≥ **–∑ –Ω—É–ª—è –ø—ñ–¥–Ω—è—Ç–∏ —Ç–∞–∫—É —Å–∞–º—É –±–∞–∑—É**, —Ä–æ–∑—É–º—ñ—é—á–∏ *–Ω–∞–≤—ñ—â–æ* –∫–æ–∂–µ–Ω –∫—Ä–æ–∫ —ñ—Å–Ω—É—î.

---

## üéØ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –±–∞–∑–∏

–¶—è –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —Å—Ç–≤–æ—Ä–µ–Ω–∞ —è–∫ **Data Engineering sandbox**, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –Ω–∞–±–ª–∏–∂–µ–Ω–∏–π –¥–æ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö job‚Äë–ø–æ—Ä—Ç–∞–ª—É.

–í–æ–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è:

- –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å–∫–ª–∞–¥–Ω–æ–≥–æ SQL (JOIN, CTE, Window Functions)
- –∞–Ω–∞–ª—ñ–∑—É –≤–æ—Ä–æ–Ω–æ–∫ (views ‚Üí applications ‚Üí hired)
- –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –∑–∞–ø–∏—Ç—ñ–≤ (EXPLAIN, —ñ–Ω–¥–µ–∫—Å–∏)
- —Ä–æ–±–æ—Ç–∏ –∑ SCD (Slowly Changing Dimensions)
- data quality checks (NULL, –¥—É–±–ª—ñ–∫–∞—Ç–∏, –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ –¥–∞—Ç–∏)

**–¶–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ ¬´–±—Ä—É–¥–Ω–∞¬ª –±–∞–∑–∞, —è–∫ —É –ø—Ä–æ–¥–∞–∫—à–Ω—ñ**.

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤ –ø—Ä–æ—î–∫—Ç—É

```text
project/
‚îÇ
‚îú‚îÄ‚îÄchallenges
‚îÇ    ‚îú‚îÄ‚îÄ db_connection.py
‚îÇ    ‚îú‚îÄ‚îÄ challenge_1.py
‚îÇ    ‚îú‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ job_schema.sql          # SQL-—Å—Ö–µ–º–∞ –≤—Å—ñ—Ö —Ç–∞–±–ª–∏—Ü—å
‚îú‚îÄ‚îÄ utils
‚îÇ    ‚îú‚îÄ‚îÄ init_db.py         # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ë–î (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å)
‚îÇ    ‚îú‚îÄ‚îÄ db_filler.py       # –ù–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å + Chaos Monkey
‚îú‚îÄ‚îÄ CHALLENGES.md           # –§–∞–π–ª –∑ —É–º–æ–≤–∞–º–∏ –∑–∞–¥–∞—á–∞
‚îî‚îÄ‚îÄ README.md               # –¶–µ–π —Ñ–∞–π–ª
```

---

## ‚öôÔ∏è –ü–æ—á–∞—Ç–∫–æ–≤—ñ –≤–∏–º–æ–≥–∏

- Python 3.10+
- PostgreSQL 13+
- Python –ø–∞–∫–µ—Ç–∏:
  - psycopg2
  - faker
  - python-decouple

–£—Å—ñ –¥–æ—Å—Ç—É–ø–∏ –¥–æ –ë–î –∑–∞–¥–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ **environment variables** –∞–±–æ `.env` —Ñ–∞–π–ª:

```env
DB_NAME=job_db
DB_USER=job_user
DB_PASSWORD=job_password
DB_HOST=localhost
DB_PORT=5432
```

---

## 1Ô∏è‚É£ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ö–µ–º–∏ –±–∞–∑–∏ (init\_db.py)

### –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

–§–∞–π–ª `init_db.py` **–Ω—ñ—á–æ–≥–æ –Ω–µ –≥–µ–Ω–µ—Ä—É—î**. –í—ñ–Ω:

- –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ PostgreSQL
- —á–∏—Ç–∞—î —Ñ–∞–π–ª `job_schema.sql`
- —Å—Ç–≤–æ—Ä—é—î –≤—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ

### –í–∞–∂–ª–∏–≤–æ

‚ö†Ô∏è **–¶–µ–π —Å–∫—Ä–∏–ø—Ç –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –ü–ï–†–®–ò–ú.**

–ë–µ–∑ –Ω—å–æ–≥–æ –∂–æ–¥–µ–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–∏—Ö –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è.

### –ó–∞–ø—É—Å–∫

```bash
python init_db.py
```

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —É –ë–î –∑ º—è–≤–ª—è—é—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü—ñ:

- companies
- jobs
- job\_views
- job\_applications
- job\_status\_history

---

## 2Ô∏è‚É£ –ù–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–∞–Ω–∏–º–∏ (db\_filler.py)

–£—Å—ñ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ –¥–∞–Ω–∏—Ö –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è —É —Ñ–∞–π–ª—ñ **db\_filler.py**.

–ö–æ–∂–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –Ω–∞–ø–æ–≤–Ω—é—î—Ç—å—Å—è **–æ–∫—Ä–µ–º–æ—é —Ñ—É–Ω–∫—Ü—ñ—î—é**. –¶–µ –∑—Ä–æ–±–ª–µ–Ω–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ, —â–æ–±:

- –º–æ–∂–Ω–∞ –±—É–ª–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç–∏ –æ–∫—Ä–µ–º—ñ –µ—Ç–∞–ø–∏
- –ª–µ–≥–∫–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –æ–± º—î–º–∏ –¥–∞–Ω–∏—Ö
- –≤—ñ–¥–ª–∞–≥–æ–¥–∂—É–≤–∞—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é

---

## üî¢ –¢–∞–±–ª–∏—Ü—ñ —Ç–∞ –ø–æ—Ä—è–¥–æ–∫ –Ω–∞–ø–æ–≤–Ω–µ–Ω–Ω—è

### –ö—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–∏–π –ø–æ—Ä—è–¥–æ–∫

```text
1. populate_companies()
2. populate_jobs()
3. populate_views()
4. populate_precise_applications()
5. populate_dense_history()
6. apply_chaos()   # –û–°–¢–ê–ù–ù–Ü–ú
```

–ü–æ—Ä—É—à–µ–Ω–Ω—è —Ü—å–æ–≥–æ –ø–æ—Ä—è–¥–∫—É –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –ø–æ–º–∏–ª–æ–∫ FK –∞–±–æ –ª–æ–≥—ñ—á–Ω–æ—ó –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ.

---

## 3Ô∏è‚É£ companies

**–§—É–Ω–∫—Ü—ñ—è:** `populate_companies`

- \~20 000 –∫–æ–º–ø–∞–Ω—ñ–π
- –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω—ñ —ñ–Ω–¥—É—Å—Ç—Ä—ñ—ó
- —Ä—ñ–∑–Ω—ñ –∫—Ä–∞—ó–Ω–∏

–¢–∏–ø —Ç–∞–±–ª–∏—Ü—ñ: **Dimension**

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ –±–∞–∑–æ–≤–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫ –¥–ª—è JOIN‚Äë—ñ–≤.

---

## 4Ô∏è‚É£ jobs

**–§—É–Ω–∫—Ü—ñ—è:** `populate_jobs`

- \~1 000 000 –≤–∞–∫–∞–Ω—Å—ñ–π
- –±–∞–≥–∞—Ç–æ NULL —É –∑–∞—Ä–ø–ª–∞—Ç–∞—Ö
- —á–∞—Å—Ç—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è `last_updated`
- —á–∞—Å—Ç–∏–Ω–∞ –≤–∞–∫–∞–Ω—Å—ñ–π –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞

–¢–∏–ø —Ç–∞–±–ª–∏—Ü—ñ: **Core / Dimension**

–¶–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –≤—Å—ñ—î—ó –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏.

---

## 5Ô∏è‚É£ job\_views (FACT)

**–§—É–Ω–∫—Ü—ñ—è:** `populate_views`

- \~50 000 000 –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤
- –Ω–µ—Ä—ñ–≤–Ω–æ–º—ñ—Ä–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª (10% –≤–∞–∫–∞–Ω—Å—ñ–π ‚âà 80% –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤)
- –ø–æ–≤—Ç–æ—Ä–Ω—ñ –ø–µ—Ä–µ–≥–ª—è–¥–∏ –æ–¥–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º

–¢–∏–ø —Ç–∞–±–ª–∏—Ü—ñ: **Fact**

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è:

- performance —Ç–µ—Å—Ç—ñ–≤
- popularity –º–µ—Ç—Ä–∏–∫
- window functions

---

## 6Ô∏è‚É£ job\_applications (FACT, —Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ)

**–§—É–Ω–∫—Ü—ñ—è:** `populate_precise_applications`

üîë **–ö–ª—é—á–æ–≤–∞ –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å:**

> –ö–æ–∂–Ω–∞ –∑–∞—è–≤–∫–∞ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è **–¢–Ü–õ–¨–ö–ò** –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–¥—É –∑ `job_views`.

–ì–∞—Ä–∞–Ω—Ç—ñ—è —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ:

```sql
LEFT JOIN job_views ‚Üí 0 orphan rows
```

- \~5 000 000 –∑–∞—è–≤–æ–∫
- applied / rejected / hired
- applied\_at > viewed\_at

–Ü–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è funnel‚Äë–∞–Ω–∞–ª—ñ–∑—É.

---

## 7Ô∏è‚É£ job\_status\_history (SCD)

**–§—É–Ω–∫—Ü—ñ—è:** `populate_dense_history`

- 2‚Äì3 –∑–∞–ø–∏—Å–∏ –Ω–∞ –≤–∞–∫–∞–Ω—Å—ñ—é (–≤ —Å–µ—Ä–µ–¥–Ω—å–æ–º—É \~2.7)
- —Å—Ü–µ–Ω–∞—Ä—ñ—ó:
  - active ‚Üí closed
  - active ‚Üí paused ‚Üí active
  - active ‚Üí paused ‚Üí active ‚Üí closed

–¢–∏–ø —Ç–∞–±–ª–∏—Ü—ñ: **SCD / —ñ—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω**

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è:

- LEAD / LAG
- —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É —á–∞—Å—É –≤ —Å—Ç–∞—Ç—É—Å–∞—Ö
- incremental loads

---

## üêí Chaos Monkey (–∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–∏–π —Ö–∞–æ—Å)

**–§—É–Ω–∫—Ü—ñ—è:** `apply_chaos`

‚ö†Ô∏è **–ó–∞–ø—É—Å–∫–∞—Ç–∏ –¢–Ü–õ–¨–ö–ò –ü–Ü–°–õ–Ø –≤—Å—ñ—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ñ–≤.**

–°–∫—Ä–∏–ø—Ç –Ω–∞–≤–º–∏—Å–Ω–æ –ø—Å—É—î –¥–∞–Ω—ñ:

| –¢–∞–±–ª–∏—Ü—è           | –¢–∏–ø –ø—Ä–æ–±–ª–µ–º–∏               |
| ----------------- | -------------------------- |
| jobs              | `last_updated < posted_at` |
| jobs              | NULL —É category / location |
| job\_views        | –ø–æ–≤–Ω—ñ –¥—É–±–ª—ñ–∫–∞—Ç–∏            |
| job\_applications | status = NULL              |

–¶–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è:

- data quality checks
- –¥–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—ó
- –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ª–æ–≥—ñ—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫

---

## üß™ –©–æ –º–æ–∂–Ω–∞ —Ç—Ä–µ–Ω—É–≤–∞—Ç–∏ –Ω–∞ —Ü—ñ–π –±–∞–∑—ñ

- —Å–∫–ª–∞–¥–Ω—ñ JOIN‚Äë–∏ –Ω–∞ –¥–µ—Å—è—Ç–∫–∞—Ö –º—ñ–ª—å–π–æ–Ω—ñ–≤ —Ä—è–¥–∫—ñ–≤
- window functions (ROW\_NUMBER, LEAD, LAG)
- funnel analytics
- –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é –∑–∞–ø–∏—Ç—ñ–≤
- —Ä–æ–±–æ—Ç—É –∑ ¬´–±—Ä—É–¥–Ω–∏–º–∏¬ª –¥–∞–Ω–∏–º–∏

---

## üèÅ –í–∏—Å–Ω–æ–≤–æ–∫

–¶—è –±–∞–∑–∞ ‚Äî **–ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π Data Engineering —Ç—Ä–µ–Ω–∞–∂–µ—Ä**, –∞ –Ω–µ –¥–µ–º–æ‚Äë–ø—Ä–æ—î–∫—Ç.

---

*–ê–≤—Ç–æ—Ä—Å—å–∫–∏–π Job Analytics Sandbox –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏ SQL —Ç–∞ Data Engineering.*

---

## –ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫ –∑–∞–¥–∞—á—ñ –æ–ø–∏—Å–∞–Ω—ñ –≤ CHALLENGES.md
